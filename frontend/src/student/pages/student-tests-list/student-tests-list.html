<div class="d-flex flex-row align-items-center mb-5">
  <div>
    <h1 class="text-dark fw-medium mb-3 display-6">Test disponibili</h1>
    <h5 class="text-dark mb-0 fw-normal">
      Qui trovi i test che puoi svolgere per le tue materie
    </h5>
  </div>
  <button
    class="btn btn-gradient-secondary btn-lg ms-auto py-3 icon-btn"
    routerLink="/s/auto-evaluation/create"
  >
    Crea un test di auto-valutazione
  </button>
</div>

<section class="d-flex flex-row mb-5 gap-3">
  <div>
    <input
      type="text"
      id="search-term"
      class="form-control me-3 custom-input filter"
      placeholder="Cerca test..."
      style="min-width: 300px"
      [value]="SearchTerm()"
      (input)="onSearchTermChange($any($event.target).value)"
    />
  </div>
  <div>
    <select
      class="form-select custom-input filter"
      [value]="SelectedSubject()"
      (change)="onSubjectChange($any($event.target).value)"
    >
      <option value="">Tutte le materie</option>
      @for (subject of Subjects(); track subject._id) {
      <option [value]="subject._id">{{ subject.name }}</option>
      }
    </select>
  </div>
  <button
    type="button"
    class="btn btn-outline-danger"
    (click)="clearFilters()"
    title="Pulisci filtri"
  >
    <fa-icon [icon]="ClearIcon"></fa-icon>
  </button>
</section>

<div class="row">
  @for (test of Tests(); track test._id) {
  <div class="col-12 col-lg-6 col-xl-4 mb-3">
    <app-student-test-card
      [Test]="test"
      [AttemptStatus]="getAttemptStatus(test._id)"
    />
  </div>
  } @empty {
  <div class="col-12">
    <div class="alert alert-info text-center">
      Nessun test disponibile al momento.
    </div>
  </div>
  }
</div>
