<div class="d-flex flex-row align-items-center mb-5">
  <div>
    <h1 class="text-dark fw-medium mb-3 display-6">Test disponibili</h1>
    <h5 class="text-dark mb-0 fw-normal">
      Qui trovi i test che puoi svolgere per le tue materie
    </h5>
  </div>
</div>

<section class="d-flex flex-row mb-5 gap-3">
  <div>
    <input
      type="text"
      id="search-term"
      class="form-control me-3 custom-input filter"
      placeholder="Cerca test..."
      style="min-width: 300px"
      [value]="SearchTerm()"
      (input)="onSearchTermChange($any($event.target).value)"
    />
  </div>
  <button
    type="button"
    class="btn btn-outline-danger"
    (click)="clearFilters()"
    title="Pulisci filtri"
  >
    <fa-icon [icon]="ClearIcon"></fa-icon>
  </button>
</section>

<div class="row">
  @for(test of Tests(); track test._id) {
  <div class="col-12 col-lg-6 col-xl-4 mb-3">
    <div class="card p-3 h-100 d-flex flex-column justify-content-between">
      <div>
        <h5 class="fw-bold text-dark">{{ test.name }}</h5>
        <p class="mb-1 text-muted">Materia: {{ test.subjectName }}</p>
        <p class="mb-1 text-muted">Stato: {{ test.status | titlecase }}</p>
        <p class="mb-1 text-muted">
          Disponibile dal: {{ test.availableFrom | date:'shortDate' }}
        </p>
        <p class="mb-1 text-muted">
          Disponibile fino al: {{ test.availableTo | date:'shortDate' }}
        </p>
      </div>
      <button
        class="btn btn-primary mt-3 w-100"
        [routerLink]="['/s/tests', test._id]"
      >
        Compila test
      </button>
    </div>
  </div>
  } @empty {
  <div class="col-12">
    <div class="alert alert-info text-center">
      Nessun test disponibile al momento.
    </div>
  </div>
  }
</div>
