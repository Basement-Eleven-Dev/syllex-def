<div class="questions-list">
  @if (isLoading()) {
  <div class="d-flex justify-content-center align-items-center pb-5">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Caricamento...</span>
    </div>
  </div>
  } @else if (filteredQuestions().length === 0) {
  <div class="alert alert-info" role="alert">
    Nessuna domanda trovata con i filtri selezionati. Prova a modificare i
    criteri di ricerca.
  </div>
  } @else {
  <div
    cdkDropList
    [cdkDropListData]="filteredQuestions()"
    [cdkDropListConnectedTo]="['test-drop-list']"
    cdkDropListSortingDisabled
  >
    @for (question of filteredQuestions(); track question._id; let last = $last)
    {
    <div
      app-question-card
      cdkDrag
      [showPolicy]="true"
      [cdkDragData]="question"
      [showIndex]="false"
      [question]="question"
      [class.mb-3]="!last"
    ></div>
    }
  </div>

  @if (totalQuestions() > pageSize) {
  <app-syllex-pagination
    class="d-flex justify-content-center mt-3"
    [collectionSize]="totalQuestions()"
    [page]="currentPage()"
    [pageSize]="pageSize"
    (pageChange)="onPageChange($event)"
  />
  } }
</div>
