<div class="questions-list">
  @if (isLoading()) {
  <div class="d-flex justify-content-center align-items-center pb-5">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Caricamento...</span>
    </div>
  </div>
  } @else if (filteredQuestions().length === 0) {
  <div class="alert alert-info" role="alert">
    Nessuna domanda trovata con i filtri selezionati. Prova a modificare i
    criteri di ricerca.
  </div>
  } @else if (visibleQuestions().length === 0) {
  <div class="alert alert-success" role="alert">
    <i class="bi bi-check-circle-fill me-2"></i>
    Tutte le domande di questa pagina sono gi√† state aggiunte al test.
  </div>
  } @else {
  <div
    cdkDropList
    [cdkDropListData]="visibleQuestions()"
    [cdkDropListConnectedTo]="['test-drop-list']"
    cdkDropListSortingDisabled
  >
    @for (question of visibleQuestions(); track question._id; let last = $last)
    {
    <div
      app-question-card
      cdkDrag
      mode="preview"
      [cdkDragData]="question"
      [question]="question"
      [class.mb-3]="!last"
    ></div>
    }
  </div>
  }

  @if (totalQuestions() > pageSize) {
  <app-syllex-pagination
    class="d-flex justify-content-center mt-3"
    [collectionSize]="totalQuestions()"
    [page]="currentPage()"
    [pageSize]="pageSize"
    (pageChange)="onPageChange($event)"
  />
  }
</div>
