<div class="file-viewer-container">
  @if (isLoading()) {
    <div class="loading-overlay">
      <fa-icon
        [icon]="SpinnerIcon"
        [animation]="'spin'"
        size="3x">
      </fa-icon>
    </div>
  }

  @if (mermaidContent()) {
    <div class="mermaid-viewer">
      <div #mermaidContainer class="mermaid-container"></div>
      
      <div class="zoom-controls">
        <button (click)="resetZoom()" title="Reset vista">
          <fa-icon [icon]="ResetIcon"></fa-icon>
        </button>
      </div>
    </div>
  }
  @else if (isImage()) {
    <img
      [src]="docUrl"
      (load)="onLoad()"
      style="width: 100%; height: 90dvh; object-fit: contain"
    />
  }
  @else if (isBlobUrl()) {
    <ngx-doc-viewer
      [url]="docUrl"
      viewer="url"
      (loaded)="onLoad()"
      style="width: 100%; height: 90dvh">
    </ngx-doc-viewer>
  }
  @else {
    <ngx-doc-viewer
      [url]="docUrl"
      viewer="google"
      (loaded)="onLoad()"
      style="width: 100%; height: 90dvh">
    </ngx-doc-viewer>
  }
</div>