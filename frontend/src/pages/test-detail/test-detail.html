<div class="mb-3 d-flex flex-row justify-content-between align-items-center">
  <h1 class="mb-0 display-6 text-dark fw-bold">{{ test.title }}</h1>

  <div class="d-flex flex-row gap-2 align-items-center">
    <button class="btn btn-outline-primary">
      <fa-icon [icon]="EditIcon"></fa-icon> Modifica
    </button>
    <button class="btn btn-outline-danger">
      <fa-icon [icon]="TrashIcon"></fa-icon> Elimina
    </button>
  </div>
</div>
<p class="text-dark mb-0">
  Creato il {{ test.createdAt | date: 'd MMM y' }} -
  <span [class]="'status-pill ' + test.status">{{ test.status }}</span>
</p>

<div class="row mt-5">
  @for(stat of stats; track $index) {
  <div class="col-12 col-md-6 col-lg-3">
    <div class="card">
      <div class="card-body d-flex flex-column align-items-center p-1">
        <div class="flex-fill d-flex flex-column align-items-center p-4">
          <span class="cardValue text-dark"
            >{{ stat.mainValue }}<span class="reduced"
              >/{{ stat.subValue }}</span
            ></span
          >
          <p class="mb-0 cardDescription text-dark">{{ stat.label }}</p>
        </div>
        <p class="mb-0 text-dark">{{ stat.percentageValue }}%</p>
      </div>
    </div>
  </div>
  }
</div>

<ul
  ngbNav
  #nav="ngbNav"
  [(activeId)]="activeSection"
  [destroyOnHide]="false"
  class="nav-tabs nav-fill fs-4 mt-5 text-dark"
>
  @for(section of sections; track $index; let first = $first) {
  <li [ngbNavItem]="$index + 1">
    <button ngbNavLink class="text-dark">
      <fa-icon [icon]="section.icon"></fa-icon> {{ section.title }}
    </button>
    <ng-template ngbNavContent>
      <ng-container *ngComponentOutlet="section.component" />
    </ng-template>
  </li>
  }
</ul>

<div [ngbNavOutlet]="nav" class="mt-2"></div>
