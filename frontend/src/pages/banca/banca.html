<div class="d-flex flex-row align-items-center mb-5">
  <div>
    <h1 class="text-dark fw-bold mb-0 display-6">Banca Domande</h1>
    <p class="text-dark mb-0">
      Qui puoi trovare tutte le domande con cui comporre i test di
      <span class="fw-bold">{{ materiaService.materiaSelected()?.name }}</span>.
      Puoi cercare, filtrare e modificare le domande a tuo piacimento.
    </p>
  </div>
  <button
    class="btn btn-primary btn-lg ms-auto py-3"
    routerLink="/t/create-question"
  >
    <fa-icon [icon]="PlusIcon"></fa-icon>
    Nuova domanda
  </button>
</div>

<h4 class="text-dark fw-bold my-4">Hai 50 domande per questa materia</h4>
<section class="form-section">
  <app-questions-search-filters
    (filtersChanged)="onFiltersChanged($event)"
  ></app-questions-search-filters>
</section>

@for(question of questions(); track question._id; let last = $last; let i =
$index) {
<div class="mt-4">
  <div
    app-question-card
    [question]="question"
    [collapsed]="isQuestionCollapsed(question._id)"
    [showTestCompositionActions]="false"
    [showBancaActions]="true"
    [showExplanation]="true"
    [showPolicy]="true"
    [collapsable]="true"
    (onExpand)="onQuestionExpanded($event)"
  ></div>
</div>
}
<div class="mt-5 d-flex flex-row justify-content-between align-items-center">
  <ngb-pagination
    [collectionSize]="collectionSize()"
    [page]="page()"
    [pageSize]="pageSize()"
    (pageChange)="page.set($event)"
  >
  </ngb-pagination>

  <select
    class="form-select form-select-sm"
    style="width: auto"
    [ngModel]="pageSize()"
    (ngModelChange)="pageSize.set($event); page.set(1)"
  >
    <option [ngValue]="5">5 per pagina</option>
    <option [ngValue]="10">10 per pagina</option>
    <option [ngValue]="20">20 per pagina</option>
  </select>
</div>
