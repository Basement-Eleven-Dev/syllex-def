<h1 class="text-dark fw-bold mb-0 display-6">Bentornato, Mario</h1>
<p class="text-dark mb-0">
  Qui puoi gestire i contenuti e i test per la materia Scienze Nautiche
</p>

<div class="row mt-5">
  @for(link of quickLinks; track $index){
  <div class="col-12 col-md-6 col-lg-3 mb-4">
    <div
      class="card linkCard text-center h-100 py-1"
      [class.alert]="link.alert"
    >
      <div class="card-body d-flex flex-column">
        <div class="flex-fill d-flex flex-column justify-content-center my-4">
          <span class="cardValue">{{link.value}}</span>
          <span class="cardDescription">{{link.description}}</span>
        </div>
        <a href="{{link.route}}" class="cardLink">{{link.routeString}}</a>
      </div>
    </div>
  </div>
  }
</div>

<div class="row mt-4">
  <div class="col-6 d-flex flex-column">
    <h4 class="text-dark fw-bold mb-3">Inizia ad usare Syllex</h4>
    <div class="card p-4 flex-fill" id="startWorkingCard">
      <div class="card-body">
        <span class="display-5 fw-bold text-dark" style="line-height: 1"
          >Mettiti <br />
          al lavoro</span
        >
        <div class="row mt-3">
          @for(action of quickActions; track $index){
          <div class="col-6 p-2">
            <button
              class="btn btn-primary btn-lg w-100 actionButton d-flex flex-column gap-1"
              (click)="action.action()"
            >
              <fa-icon [icon]="action.icon"></fa-icon>
              {{action.label}}
            </button>
          </div>
          }
        </div>
      </div>
    </div>
  </div>
  <div class="col-6 d-flex flex-column">
    <div class="d-flex flex-row justify-content-between text-dark">
      <h4 class="text-dark fw-bold mb-3">Comunica con i tuoi studenti</h4>
      <a href="#" routerLink="comunicazioni">Vedi tutte</a>
    </div>
    <div class="card overflow-scroll flex-fill p-4" style="height: 300px">
      <div class="card-body">
        <div class="h-100 overflow-scroll">
          @for(c of communications; track $index; let last = $last){
          <div class="card" [class.mb-3]="!last">
            <div class="card-body">
              <div
                class="fw-semibold mb-1 d-flex flex-row justify-content-between align-items-center"
              >
                <span>Titolo annuncio</span>
                @if(c.attachmentCount > 0){
                <span class="badge bg-secondary ms-2 text-dark fw-bold"
                  >{{ c.attachmentCount }}
                  <fa-icon [icon]="AttachmentIcon"></fa-icon>
                </span>
                }
              </div>
              <p class="ellipsis-3-lines mb-2">{{ c.body }}</p>
              c
              <small>{{ c.date | date:'short' }}</small>
            </div>
          </div>
          }
        </div>
      </div>
    </div>
  </div>
</div>

<section class="mt-5">
  <h4 class="text-dark fw-bold mb-1">Calendario dei test</h4>
  <p class="text-dark fw-light mb-3">
    Tieni traccia dei test che hai fissato per i tuoi studenti
  </p>

  <app-calendario></app-calendario>
</section>
