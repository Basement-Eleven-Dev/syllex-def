<h1 class="text-dark fw-bold mb-0 display-6 align-items-center d-flex gap-3">
  Profilo
</h1>
<p class="text-dark mb-0">Da qui puoi gestire il tuo account docente</p>

<div class="row mt-5">
  <div class="col-6">
    <section class="form-section">
      <label for="name" class="form-label fw-semibold text-dark">
        <fa-icon [icon]="BuildingIcon"></fa-icon>Organizzazione</label
      >
      <h4 class="fw-light text-dark" id="name">
        {{ authService.organizationName$ | async }}
      </h4>
    </section>
  </div>
</div>

<div class="row mt-5">
  <div class="col-6">
    <section class="form-section">
      <label for="name" class="form-label fw-semibold text-dark"
        >Nome e Cognome</label
      >
      <h4 class="fw-light text-dark" id="name">
        {{ authService.user?.firstName }} {{ authService.user?.lastName }}
      </h4>
    </section>
  </div>
  <div class="col-6">
    <section class="form-section">
      <label for="name" class="form-label fw-semibold text-dark">Ruolo</label>
      <h4 class="fw-light text-dark" id="name">
        @switch(authService.user?.role) { @case('teacher'){Docente}
        @case('admin'){Admin} @default{ {{ authService.user?.role }} } }
      </h4>
    </section>
  </div>
</div>
<div class="row mt-3">
  <div class="col-6">
    <section class="form-section">
      <label
        for="name"
        class="form-label fw-semibold text-dark w-100 d-flex align-items-center justify-content-between"
        >Email
        <button class="btn btn-link p-0 ms-2" (click)="onChangeEmail()">
          <fa-icon [icon]="EditIcon"></fa-icon> Modifica email
        </button>
      </label>
      <h4 class="fw-light text-dark" id="email">
        {{ authService.user?.username }}
      </h4>
    </section>
  </div>
  <div class="col-6">
    <section class="form-section">
      <label
        for="name"
        class="form-label fw-semibold text-dark w-100 d-flex align-items-center justify-content-between"
        >Password
        <button class="btn btn-link p-0 ms-2" (click)="onChangePassword()">
          <fa-icon [icon]="EditIcon"></fa-icon> Modifica password
        </button></label
      >
      <h4 class="fw-light text-dark" id="name">********</h4>
    </section>
  </div>
</div>
<div class="row mt-5">
  <div class="col-12">
    <section class="form-section">
      <label for="name" class="form-label fw-semibold text-dark mb-4"
        >Materie di insegnamento</label
      >
      <div class="row">
        @for(materia of materiaService.allMaterie(); track $index) {
        <div class="col-4">
          <div class="card overflow-hidden position-relative">
            <fa-icon [icon]="BookIcon" [size]="'lg'" id="bookIcon" />
            <div class="card-body">
              <h5 class="card-title">{{ materia.name }}</h5>
              {{ countClasses(materia._id) || 'Nessuna' }} class{{
              countClasses(materia._id) > 1 ? 'i' : 'e' }} assegnat{{
              countClasses(materia._id) > 1 ? 'e' : 'a' }}
            </div>
          </div>
        </div>
        } @empty {
        <div class="col-12">
          <p class="text-muted">Nessuna materia assegnata</p>
        </div>
        }
      </div>
    </section>
  </div>
</div>
